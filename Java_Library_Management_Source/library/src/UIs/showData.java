/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package UIs;

import Classes.Amanat;
import Classes.Book;
import Classes.Ghanoon;
import Classes.Handle;
import Classes.Member;
import Classes.NJarime;
import Classes.Rezerv;
import Classes.User;
import DataAcces.DataAcces;
import Tools.Tools;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author mad
 */
public class showData extends javax.swing.JDialog {

    String[][] data;
    String[] colName;
    int who; // 1: user, 2: member, 3: book

    public static final int USER = 1;
    public static final int MEMBER = 2;
    public static final int BOOK = 3;
    public static final int AMANAT = 4;
    public static final int REZERV = 5;
    public static final int NJARIME = 6;
    public static final int JARIME = 7;
    public static final int GHANOON = 8;

    public showData(java.awt.Frame parent, boolean modal, int who) {
        super(parent, modal);
        initComponents();
        Tools.setLocation(this);
        this.who = who;

        loadForm();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPopupMenu1 = new javax.swing.JPopupMenu();
        jMEdit = new javax.swing.JMenuItem();
        jMDelete = new javax.swing.JMenuItem();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();

        jMEdit.setText("ویرایش");
        jMEdit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jMEditActionPerformed(evt);
            }
        });
        jPopupMenu1.add(jMEdit);

        jMDelete.setText("حذف");
        jMDelete.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jMDeleteActionPerformed(evt);
            }
        });
        jPopupMenu1.add(jMDelete);

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

        jTable1.setComponentPopupMenu(jPopupMenu1);
        jScrollPane1.setViewportView(jTable1);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 732, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 470, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jMEditActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMEditActionPerformed
        getData();
    }//GEN-LAST:event_jMEditActionPerformed

    private void jMDeleteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMDeleteActionPerformed
        deleteData();
    }//GEN-LAST:event_jMDeleteActionPerformed

//    /**
//     * @param args the command line arguments
//     */
//    public static void main(String args[]) {
//        /* Set the Nimbus look and feel */
//        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
//        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
//         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
//         */
//        try {
//            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
//                if ("Nimbus".equals(info.getName())) {
//                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
//                    break;
//                }
//            }
//        } catch (ClassNotFoundException ex) {
//            java.util.logging.Logger.getLogger(showData.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
//        } catch (InstantiationException ex) {
//            java.util.logging.Logger.getLogger(showData.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
//        } catch (IllegalAccessException ex) {
//            java.util.logging.Logger.getLogger(showData.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
//        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
//            java.util.logging.Logger.getLogger(showData.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
//        }
//        //</editor-fold>
//
//        /* Create and display the dialog */
//        java.awt.EventQueue.invokeLater(new Runnable() {
//            public void run() {
//                showData dialog = new showData(new javax.swing.JFrame(), true);
//                dialog.addWindowListener(new java.awt.event.WindowAdapter() {
//                    @Override
//                    public void windowClosing(java.awt.event.WindowEvent e) {
//                        System.exit(0);
//                    }
//                });
//                dialog.setVisible(true);
//            }
//        });
//    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JMenuItem jMDelete;
    private javax.swing.JMenuItem jMEdit;
    private javax.swing.JPopupMenu jPopupMenu1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTable jTable1;
    // End of variables declaration//GEN-END:variables

    private void updateTable() {
        jTable1.setModel(new DefaultTableModel(data, colName));
        jScrollPane1.setViewportView(jTable1);
    }

    private void loadForm() {
        switch (who) {
            case USER:
                loadUser();
                break;
            case MEMBER:
                loadMember();
                break;
            case BOOK:
                loadBook();
                break;
            case AMANAT:
                loadAmanat();
                break;
            case REZERV:
                loadRezerv();
                break;
            case NJARIME:
                loadNJarime();
                break;
            case JARIME:
                loadJarime();
                break;
            case GHANOON:
                loadGhanoon();
                break;
        }
    }

    private void loadUser() {
        DataAcces da = new DataAcces("select * from ROOT.UUSER");
        this.data = da.getData();
        this.colName = new String[]{
            "کد", "نام", "نام خانوادگی", "سمت", "سطح دسترسی",
            "نام کاربری", "رمز عبور"
        };
        updateTable();
    }

    private void loadMember() {
        DataAcces da = new DataAcces("select * from ROOT.MEMBER");
        this.data = da.getData();
        this.colName = new String[]{
            "کد عضویت", "نام", "نام خانوادگی",
            "کد ملی", "نام پدر", "تاریخ تولد",
            "شماره تلفن", "جنسیت", "آدرس", "رشته", "عکس",
            "ایمیل", "تاریخ انقضا عضویت",};
        updateTable();
    }

    private void loadBook() {
        DataAcces da = new DataAcces("select * from ROOT.BOOK");
        this.data = da.getData();
        this.colName = new String[]{
            "شماره ثیت", "سال نشر", "عنوان", "نویسنده", "ناشر",
            "محل نشر", "زبان", "ارزش", "شابک", "خلاصه", "موضوع",
            "جلد", "تعداد"
        };
        updateTable();
    }

    private void loadAmanat() {
        DataAcces da = new DataAcces("select u.UKOD, u.UNAM, u.UFAMIL,"
                + " m.MID, m.MNAM, m.MFAMIL, b.BSABT, b.BONVAN,"
                + " a.ADATE, a.RETDATE"
                + " from ROOT.AMANAT a, ROOT.BOOK b, ROOT.MEMBER m,"
                + " ROOT.UUSER u"
                + " where a.AUKOD = u.UKOD"
                + " and a.AMID = m.MID"
                + " and a.ABSABT = b.BSABT");
        this.data = da.getData();
        this.colName = new String[]{
            "کد کاربر", "نام کاربر", "فامیل کاربر", "کد عضو",
            "نام عضو", "فامیل عضو", "شماره ثبت کتاب", "عنوان کتاب",
            "تاریخ تحویل کتاب", "تاریخ بازگشت کتاب"
        };
        updateTable();
        jMEdit.setText("تمدید امانت");
        jMDelete.setText("برگشت امانت");
    }

    private void loadRezerv() {
        DataAcces da = new DataAcces("select b.BSABT, b.BONVAN,"
                + " m.MID, m.MNAM, m.MFAMIL, r.RDATE, r.RRETDATE"
                + " from ROOT.REZERV r, ROOT.BOOK b, ROOT.MEMBER m"
                + " where r.RBSABT = b.BSABT"
                + " and r.MID = m.MID");
        this.data = da.getData();
        this.colName = new String[]{
            "شماره ثبت کتاب", "عنوان کتاب", "کد عضو", "نام عضو", "فامیل عضو",
            "تاریخ رزرو", "تاریخ اعتبار رزرو"
        };
        updateTable();
        jMEdit.setText("تمدید رزرو");
        jMDelete.setVisible(false);
    }

    private void loadNJarime() {
        DataAcces da = new DataAcces("select * from ROOT.NJARIME");
        this.data = da.getData();
        this.colName = new String[]{
            "کد جریمه", "عنوان جریمه", "میزان جریمه"
        };
        updateTable();
    }

    private void loadJarime() {
        DataAcces da = new DataAcces("select m.MID, m.MNAM, m.MFAMIL,"
                + " n.NJARIME, n.NMIZAN, u.UNAM, u.UFAMIL,"
                + " j.JDATE"
                + " from ROOT.JARIME j, ROOT.NJARIME n,"
                + " ROOT.MEMBER m, ROOT.UUSER u"
                + " where j.JMID = m.MID"
                + " and j.JNKOD = n.NKOD"
                + " and j.JUKOD = u.UKOD");
        this.data = da.getData();
        this.colName = new String[]{
            "کد عضو", "نام عضو", "فامیل عضو", "نوع جریمه", "میزان جریمه",
            "نام کاربر", "فامیل کاربر", "تاریخ جریمه",};
        updateTable();
        jPopupMenu1.setVisible(false);
    }

    private void loadGhanoon() {
        DataAcces da = new DataAcces("select * from ROOT.GHANOON");
        this.data = da.getData();
        this.colName = new String[]{
            "کد قانون", "عنوان قانون", "روز های قانون"
        };
        updateTable();
    }

    /////////////////////////////////////////////////////////////////////
    private void getData() {
        switch (who) {
            case USER:
                getUser();
                break;
            case MEMBER:
                getMember();
                break;
            case BOOK:
                getBook();
                break;
            case AMANAT:
                getAmanat();
                break;
            case REZERV:
                getRezerv();
                break;
            case NJARIME:
                getNJarime();
                break;
            case GHANOON:
                getGhanoon();
                break;
        }
    }

    private void getUser() {
        Handle.putItem(User.UserIndex.KOD, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), User.UserIndex.KOD.getCode()));
        Handle.putItem(User.UserIndex.NAM, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), User.UserIndex.NAM.getCode()));
        Handle.putItem(User.UserIndex.FAMIL, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), User.UserIndex.FAMIL.getCode()));
        Handle.putItem(User.UserIndex.SEMAT, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), User.UserIndex.SEMAT.getCode()));
        Handle.putItem(User.UserIndex.DASTRESI, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), User.UserIndex.DASTRESI.getCode()));
        Handle.putItem(User.UserIndex.USERNAME, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), User.UserIndex.USERNAME.getCode()));
        Handle.putItem(User.UserIndex.PASS, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), User.UserIndex.PASS.getCode()));
        addUser editUser = new addUser(false);
        editUser.setVisible(true);
        this.setVisible(false);
    }

    private void getMember() {
        Handle.putItem(Member.MemberIndex.ID, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Member.MemberIndex.ID.getCode()));
        Handle.putItem(Member.MemberIndex.NAM, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Member.MemberIndex.NAM.getCode()));
        Handle.putItem(Member.MemberIndex.FAMIL, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Member.MemberIndex.FAMIL.getCode()));
        Handle.putItem(Member.MemberIndex.KOD, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Member.MemberIndex.KOD.getCode()));
        Handle.putItem(Member.MemberIndex.NAMEPEDAR, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Member.MemberIndex.NAMEPEDAR.getCode()));
        Handle.putItem(Member.MemberIndex.TAVALOD, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Member.MemberIndex.TAVALOD.getCode()));
        Handle.putItem(Member.MemberIndex.SHOAMRE, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Member.MemberIndex.SHOAMRE.getCode()));
        Handle.putItem(Member.MemberIndex.JENSIAT, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Member.MemberIndex.JENSIAT.getCode()));
        Handle.putItem(Member.MemberIndex.ADRES, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Member.MemberIndex.ADRES.getCode()));
        Handle.putItem(Member.MemberIndex.RESHTE, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Member.MemberIndex.RESHTE.getCode()));
        Handle.putItem(Member.MemberIndex.AKS, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Member.MemberIndex.AKS.getCode()));
        Handle.putItem(Member.MemberIndex.EMAIL, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Member.MemberIndex.EMAIL.getCode()));
        Handle.putItem(Member.MemberIndex.TARIKHEN, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Member.MemberIndex.TARIKHEN.getCode()));
        addMember editMember = new addMember(false);
        editMember.setVisible(true);
        this.setVisible(false);
    }

    private void getBook() {
        Handle.putItem(Book.BookIndex.SABT, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Book.BookIndex.SABT.getCode()));
        Handle.putItem(Book.BookIndex.SALENASHR, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Book.BookIndex.SALENASHR.getCode()));
        Handle.putItem(Book.BookIndex.ONVAN, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Book.BookIndex.ONVAN.getCode()));
        Handle.putItem(Book.BookIndex.NEVISANDE, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Book.BookIndex.NEVISANDE.getCode()));
        Handle.putItem(Book.BookIndex.NASHER, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Book.BookIndex.NASHER.getCode()));
        Handle.putItem(Book.BookIndex.MAHALENASHR, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Book.BookIndex.MAHALENASHR.getCode()));
        Handle.putItem(Book.BookIndex.ZABAN, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Book.BookIndex.ZABAN.getCode()));
        Handle.putItem(Book.BookIndex.ARZESH, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Book.BookIndex.ARZESH.getCode()));
        Handle.putItem(Book.BookIndex.SHABAK, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Book.BookIndex.SHABAK.getCode()));
        Handle.putItem(Book.BookIndex.KHOLASE, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Book.BookIndex.KHOLASE.getCode()));
        Handle.putItem(Book.BookIndex.MOZO, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Book.BookIndex.MOZO.getCode()));
        Handle.putItem(Book.BookIndex.JELD, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Book.BookIndex.JELD.getCode()));
        Handle.putItem(Book.BookIndex.TEDAD, jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(), Book.BookIndex.TEDAD.getCode()));

        addBook editBook = new addBook(false);
        editBook.setVisible(true);
        this.setVisible(false);
    }

    private void getAmanat() {
        Amanat amanat = new Amanat(
                Integer.parseInt((String) jTable1.getModel()
                        .getValueAt(jTable1.getSelectedRow(),
                                Amanat.AmanatIndex.UKOD.getCode())),
                Integer.parseInt((String) jTable1.getModel()
                        .getValueAt(jTable1.getSelectedRow(),
                                Amanat.AmanatIndex.MID.getCode())),
                Integer.parseInt((String) jTable1.getModel()
                        .getValueAt(jTable1.getSelectedRow(),
                                Amanat.AmanatIndex.BSABT.getCode())),
                (String) jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        Amanat.AmanatIndex.DATE.getCode()),
                (String) jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        Amanat.AmanatIndex.RETDATE.getCode()));
        AmanatFrom amanatForm = new AmanatFrom(null,
                true, amanat, false);
        amanatForm.setVisible(true);
        loadAmanat();
    }

    private void getRezerv() {
        Rezerv rez = new Rezerv(
                Integer.parseInt((String) jTable1.getModel()
                        .getValueAt(jTable1.getSelectedRow(),
                                Rezerv.RezervIndex.MID.getCode())),
                Integer.parseInt((String) jTable1.getModel()
                        .getValueAt(jTable1.getSelectedRow(),
                                Rezerv.RezervIndex.BSABT.getCode())),
                (String) jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        Rezerv.RezervIndex.RDATE.getCode()),
                (String) jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        Rezerv.RezervIndex.RRETDATE.getCode()));
        RezervForm rezFrom = new RezervForm(null, true, rez,
                false);
        rezFrom.setVisible(true);
        loadRezerv();
    }

    private void getNJarime() {
        Handle.putItem(NJarime.NJarimeIndex.NKOD,
                jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        NJarime.NJarimeIndex.NKOD.getCode()));
        Handle.putItem(NJarime.NJarimeIndex.NJARIME,
                jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        NJarime.NJarimeIndex.NJARIME.getCode()));
        Handle.putItem(NJarime.NJarimeIndex.NMIZAN,
                jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        NJarime.NJarimeIndex.NMIZAN.getCode()));
        NJarimeForm njmForm = new NJarimeForm(null, true, false);
        njmForm.setVisible(true);
    }

    private void getGhanoon() {
        Handle.putItem(Ghanoon.GhanoonIndex.GKOD,
                jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        Ghanoon.GhanoonIndex.GKOD.getCode()));
        Handle.putItem(Ghanoon.GhanoonIndex.GONVAN,
                jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        Ghanoon.GhanoonIndex.GONVAN.getCode()));
        Handle.putItem(Ghanoon.GhanoonIndex.GHANOON,
                jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        Ghanoon.GhanoonIndex.GHANOON.getCode()));
        GhanoonForm gForm = new GhanoonForm(null, true, false);
        gForm.setVisible(true);
        loadGhanoon();
    }

    ////////////////////////////////////////////////////////////////////
    private void deleteData() {
        switch (who) {
            case USER:
                deleteUser();
                break;
            case MEMBER:
                deleteMember();
                break;
            case BOOK:
                deleteBook();
                break;
            case AMANAT:
                deleteAmanat();
                break;
            case NJARIME:
                deleteNjarime();
                break;
            case GHANOON:
                deleteGhanoon();
                break;
        }
    }

    private void deleteUser() {
        int kod = Integer.parseInt((String) jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        User.UserIndex.KOD.getCode()));
        User user = new User(kod, null, null, null, -1, null, null);
        user.deleteUser();

        DataAcces da = new DataAcces("select * from ROOT.UUSER");
        this.data = da.getData();
        updateTable();
    }

    private void deleteMember() {
        int id = Integer.parseInt((String) jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        Member.MemberIndex.ID.getCode()));
        Member member = new Member(id, null, null, -1, null, null,
                -1, null, null, null, null, null, null);
        member.deleteMember();

        DataAcces da = new DataAcces("select * from ROOT.MEMBER");
        this.data = da.getData();
        updateTable();
    }

    private void deleteBook() {
        int sabt = Integer.parseInt((String) jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        Book.BookIndex.SABT.getCode()));
        Book book = new Book(sabt, null, null, null, null,
                null, null, -1, null, null, null, null, -1);
        book.deleteBook();

        DataAcces da = new DataAcces("select * from ROOT.BOOK");
        this.data = da.getData();
        updateTable();
    }

    private void deleteAmanat() {
        int ukod = Integer.parseInt((String) jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        Amanat.AmanatIndex.UKOD.getCode()));
        int mid = Integer.parseInt((String) jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        Amanat.AmanatIndex.MID.getCode()));
        int bsabt = Integer.parseInt((String) jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        Amanat.AmanatIndex.BSABT.getCode()));
        String date = (String) jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        Amanat.AmanatIndex.DATE.getCode());
        Amanat amanat = new Amanat(ukod, mid, bsabt, date, null);
        amanat.deleteAmanat(); // delete amanat

        DataAcces da = new DataAcces("select u.UKOD, u.UNAM, u.UFAMIL,"
                + " m.MID, m.MNAM, m.MFAMIL, b.BSABT, b.BONVAN,"
                + " a.ADATE, a.RETDATE"
                + " from ROOT.AMANAT a, ROOT.BOOK b, ROOT.MEMBER m,"
                + " ROOT.UUSER u"
                + " where a.AUKOD = u.UKOD"
                + " and a.AMID = m.MID"
                + " and a.ABSABT = b.BSABT");
        this.data = da.getData();
        updateTable();
    }

    private void deleteNjarime() {
        int nkod = Integer.parseInt((String) jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        NJarime.NJarimeIndex.NKOD.getCode()));
        NJarime njm = new NJarime(nkod, null, -1);
        njm.deleteNJarime();

        DataAcces da = new DataAcces("select * from ROOT.NJARIME");
        this.data = da.getData();
        updateTable();
    }

    private void deleteGhanoon() {
        int gkod = Integer.parseInt((String) jTable1.getModel()
                .getValueAt(jTable1.getSelectedRow(),
                        Ghanoon.GhanoonIndex.GKOD.getCode()));
        Ghanoon ghanoon = new Ghanoon(gkod, null, -1);
        ghanoon.deleteGhanoon();

        DataAcces da = new DataAcces("select * from ROOT.GHANOON");
        this.data = da.getData();
        updateTable();
    }
}
